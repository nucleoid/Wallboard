@using Wallboard.Models
@model WallboardModel
@{
    ViewBag.Title = "Wallboard";
}

<fieldset class="float-left"><legend><span class="float-left">TIME AND WEATHER</span> <span class="ui-icon ui-icon-triangle-1-s"></span></legend>
    <div id="digiclock"></div>
</fieldset>
<fieldset class="float-left"><legend><span class="float-left">CALENDAR</span> <span class="ui-icon ui-icon-triangle-1-s"></span></legend>
    <div id="events">
        @foreach (var group in Model.Events.GroupBy(x => x.Event.Start.Date))
        {
            <text>
            <h4>@group.FirstOrDefault().Event.Start.ToString("ddd, MMM d, yyyy")</h4>
            @foreach (var item in group)
            {
                <span class="time">@item.Duration</span><span class="event-description">@item.Event.Summary</span>
            }
            </text>
        }
    </div>
</fieldset>
<fieldset class="clear-left"><legend><span class="float-left">NEXT HOLIDAY</span> <span class="ui-icon ui-icon-triangle-1-s"></span></legend>
    <div id="holiday">
        @Model.Holiday.Start.ToString("ddd, MMM, d")<span class="holiday-summary">@Model.Holiday.Summary</span>
    </div>
</fieldset>

<fieldset class="clear-left"><legend><span class="float-left">Bamboo Build Statuses</span> <span class="ui-icon ui-icon-triangle-1-s"></span></legend>
<ul>
    @foreach (var item in Model.BuildStatuses)
    {
        <li class="@item.StatusClass">@Html.Raw(item.BuildStatus)</li>
    }
</ul>
</fieldset>